from django.urls import path, include
from rest_framework.routers import SimpleRouter
from .views import ClientViewSet, client_choices, ClientObjetSocialListCreate, ClientObjetSocialDestroy, SocialObjectViewSet, SocialObjectViewSet

router = SimpleRouter()
router.register(r'clients', ClientViewSet, basename='client')
router.register(r'objets-sociaux', SocialObjectViewSet, basename='objets-sociaux')

urlpatterns = [
    # Place specific routes BEFORE the router include so they aren't shadowed
    path("clients/choices/", client_choices, name="client-choices"),
    path("clients/<int:client_id>/objet-social/", ClientObjetSocialListCreate.as_view(), name="client-objet-social"),
    path("clients/<int:client_id>/objet-social/<int:pk>/", ClientObjetSocialDestroy.as_view(), name="client-objet-social-detail"),
    path("", include(router.urls)),
]
