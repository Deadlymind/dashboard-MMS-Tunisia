from rest_framework import serializers
from .models import Client
class ClientSerializer(serializers.ModelSerializer):
    class Meta:
        model = Client
        fields = "__all__"

from .models import ClientObjetSocial

class ClientObjetSocialSerializer(serializers.ModelSerializer):
    code = serializers.SerializerMethodField()  # expose id as 'code' like your table
    class Meta:
        model = ClientObjetSocial
        fields = ["id", "code", "nomination", "agrement", "client"]
        read_only_fields = ["id", "code", "client"]
    def get_code(self, obj):  # simple numeric code
        return obj.id
